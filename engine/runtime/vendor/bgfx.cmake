include(ExternalProject)

ExternalProject_Add(
        bgfx
        GIT_REPOSITORY https://github.com/bkaradzic/bgfx.cmake.git
        GIT_TAG v1.129.8866-492
        INSTALL_COMMAND ""
        INSTALL_DIR ${CMAKE_CURRENT_BINARY_DIR}/bgfx/install
        BINARY_DIR ${CMAKE_CURRENT_BINARY_DIR}/bgfx
        SOURCE_DIR ${CMAKE_CURRENT_BINARY_DIR}/bgfx
        CMAKE_GENERATOR ${CMAKE_GENERATOR}
        CMAKE_ARGS
        $<$<BOOL:${CMAKE_TOOLCHAIN_FILE}>:-DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}>$<$<NOT:$<BOOL:${CMAKE_TOOLCHAIN_FILE}>>:-DNO_WARN=ING>
        $<$<BOOL:${ANDROID_NATIVE_API_LEVEL}>:-DANDROID_NATIVE_API_LEVEL=${ANDROID_NATIVE_API_LEVEL}>$<$<NOT:$<BOOL:${ANDROID_NATIVE_API_LEVEL}>>:-DNO_WARN=ING>
        $<$<BOOL:${ANDROID_ABI}>:-DANDROID_ABI=${ANDROID_ABI}>$<$<NOT:$<BOOL:${ANDROID_ABI}>>:-DNO_WARN=ING>
        -DBX_AMALGAMATED=ON
        -DBGFX_BUILD_TOOLS=OFF
        -DBGFX_BUILD_EXAMPLES=OFF
        -DBGFX_AMALGAMATED=ON
        -DBX_CONFIG_DEBUG=OFF
        -DBGFX_INSTALL=OFF
)