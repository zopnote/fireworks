include(ExternalProject)

ExternalProject_Add(
        libyaml
        GIT_REPOSITORY https://github.com/yaml/libyaml.git
        GIT_TAG 0.2.5
        INSTALL_COMMAND ""
        CMAKE_GENERATOR ${CMAKE_GENERATOR}
        CMAKE_ARGS
        $<$<BOOL:${CMAKE_TOOLCHAIN_FILE}>:-DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}>$<$<NOT:$<BOOL:${CMAKE_TOOLCHAIN_FILE}>>:"">
        $<$<BOOL:${ANDROID_NATIVE_API_LEVEL}>:-DANDROID_NATIVE_API_LEVEL=${ANDROID_NATIVE_API_LEVEL}>$<$<NOT:$<BOOL:${ANDROID_NATIVE_API_LEVEL}>>:"">
        $<$<BOOL:${ANDROID_ABI}>:-DANDROID_ABI=${ANDROID_ABI}>$<$<NOT:$<BOOL:${ANDROID_ABI}>>:"">
        -DBUILD_SHARED_LIBS=OFF
        -DBUILD_TESTING=OFF
)